"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2715],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var c=r.createContext({}),u=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},d=function(e){var n=u(e.components);return r.createElement(c.Provider,{value:n},e.children)},l="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},b=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),l=u(t),b=a,m=l["".concat(c,".").concat(b)]||l[b]||p[b]||o;return t?r.createElement(m,s(s({ref:n},d),{},{components:t})):r.createElement(m,s({ref:n},d))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,s=new Array(o);s[0]=b;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i[l]="string"==typeof e?e:a,s[1]=i;for(var u=2;u<o;u++)s[u]=t[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}b.displayName="MDXCreateElement"},3770:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>u});var r=t(7462),a=(t(7294),t(3905));const o={},s=void 0,i={unversionedId:"kubernetes/01kubernetes\u5b89\u88c5/09dashboard",id:"kubernetes/01kubernetes\u5b89\u88c5/09dashboard",title:"09dashboard",description:"\u90e8\u7f72dashboard",source:"@site/docs/kubernetes/01kubernetes\u5b89\u88c5/09dashboard.md",sourceDirName:"kubernetes/01kubernetes\u5b89\u88c5",slug:"/kubernetes/01kubernetes\u5b89\u88c5/09dashboard",permalink:"/docs/kubernetes/01kubernetes\u5b89\u88c5/09dashboard",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/kubernetes/01kubernetes\u5b89\u88c5/09dashboard.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"08containerd-cli",permalink:"/docs/kubernetes/01kubernetes\u5b89\u88c5/08containerd-cli"},next:{title:"10uninstall",permalink:"/docs/kubernetes/01kubernetes\u5b89\u88c5/10uninstall"}},c={},u=[{value:"\u90e8\u7f72dashboard",id:"\u90e8\u7f72dashboard",level:3}],d={toc:u},l="wrapper";function p(e){let{components:n,...t}=e;return(0,a.kt)(l,(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"\u90e8\u7f72dashboard"},"\u90e8\u7f72dashboard"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u90e8\u7f72\u670d\u52a1")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# \u63a8\u8350\u4f7f\u7528\u4e0b\u9762\u8fd9\u79cd\u65b9\u5f0f\n$ wget https://raw.githubusercontent.com/kubernetes/dashboard/v2.2.0/aio/deploy/recommended.yaml\n$ vi recommended.yaml\n# \u4fee\u6539Service\u4e3aNodePort\u7c7b\u578b\uff0c\u6587\u4ef6\u768445\u884c\u4e0a\u4e0b\n......\nkind: Service\napiVersion: v1\nmetadata:\n  labels:\n    k8s-app: kubernetes-dashboard\n  name: kubernetes-dashboard\n  namespace: kubernetes-dashboard\nspec:\n  ports:\n    - port: 443\n      targetPort: 8443\n  selector:\n    k8s-app: kubernetes-dashboard\n  type: NodePort  # \u52a0\u4e0atype=NodePort\u53d8\u6210NodePort\u7c7b\u578b\u7684\u670d\u52a1\n......\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u67e5\u770b\u8bbf\u95ee\u5730\u5740\uff0c\u672c\u4f8b\u4e3a30133\u7aef\u53e3")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ kubectl apply -f recommended.yaml\n$ kubectl -n kubernetes-dashboard get svc\nNAME                        TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)         AGE\ndashboard-metrics-scraper   ClusterIP   10.105.62.124   <none>        8000/TCP        31m\nkubernetes-dashboard        NodePort    10.103.74.46    <none>        443:30133/TCP   31m \n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u4f7f\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee ",(0,a.kt)("a",{parentName:"p",href:"https://172.21.51.143:30133%EF%BC%8C%E5%85%B6%E4%B8%AD172.21.51.143%E4%B8%BAmaster%E8%8A%82%E7%82%B9%E7%9A%84%E5%A4%96%E7%BD%91ip%E5%9C%B0%E5%9D%80%EF%BC%8Cchrome%E7%9B%AE%E5%89%8D%E7%94%B1%E4%BA%8E%E5%AE%89%E5%85%A8%E9%99%90%E5%88%B6%EF%BC%8C%E9%BB%98%E8%AE%A4%E8%AE%BF%E9%97%AE%E5%8F%97%E9%99%90%E5%88%B6%EF%BC%8C%E5%9C%A8chrome%E6%B5%8F%E8%A7%88%E5%99%A8%E9%A1%B5%E9%9D%A2%E7%82%B9%E5%87%BB%E4%BB%BB%E6%84%8F%E7%A9%BA%E7%99%BD%E5%A4%84%EF%BC%8C%E7%9B%B4%E6%8E%A5%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%E2%80%9Cthisisunsafe%E2%80%9D%E5%8D%B3%E5%8F%AF%E8%BF%9B%E8%A1%8C%E8%AE%BF%E9%97%AE%E3%80%82"},"https://172.21.51.143:30133\uff0c\u5176\u4e2d172.21.51.143\u4e3amaster\u8282\u70b9\u7684\u5916\u7f51ip\u5730\u5740\uff0cchrome\u76ee\u524d\u7531\u4e8e\u5b89\u5168\u9650\u5236\uff0c\u9ed8\u8ba4\u8bbf\u95ee\u53d7\u9650\u5236\uff0c\u5728chrome\u6d4f\u89c8\u5668\u9875\u9762\u70b9\u51fb\u4efb\u610f\u7a7a\u767d\u5904\uff0c\u76f4\u63a5\u952e\u76d8\u8f93\u5165\u201cthisisunsafe\u201d\u5373\u53ef\u8fdb\u884c\u8bbf\u95ee\u3002"))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\u521b\u5efaServiceAccount\u8fdb\u884c\u8bbf\u95ee"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},'$ vi dashboard-admin.conf\nkind: ClusterRoleBinding\napiVersion: rbac.authorization.k8s.io/v1\nmetadata:\n  name: admin\n  annotations:\n    rbac.authorization.kubernetes.io/autoupdate: "true"\nroleRef:\n  kind: ClusterRole\n  name: cluster-admin\n  apiGroup: rbac.authorization.k8s.io\nsubjects:\n- kind: ServiceAccount\n  name: admin\n  namespace: kubernetes-dashboard\n\n---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: admin\n  namespace: kubernetes-dashboard\n\n$ kubectl apply -f dashboard-admin.conf\n# \u521b\u5efa\u8bbf\u95eetoken\n$ kubectl -n kubernetes-dashboard create token admin\neyJhbGciOiJSUzI1NiIsImtpZCI6Ik1rb2xHWHMwbWFPMjJaRzhleGRqaExnVi1BLVNRc2txaEhETmVpRzlDeDQifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi10b2tlbi1mcWRwZiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50Lm5hbWUiOiJhZG1pbiIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VydmljZS1hY2NvdW50LnVpZCI6IjYyNWMxNjJlLTQ1ZG...\n\n')))}p.isMDXComponent=!0}}]);